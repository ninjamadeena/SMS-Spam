<!DOCTYPE html>
<html lang="th">
<head>
    <link rel="icon" href="{{ url_for('static', filename='favicon.jpg') }}" type="image/jpeg" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíª SMS Spam Control Panel</title>
    <style>
        body {
            background: #0d0d0d;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }
        .panel {
            background: #161616;
            padding: 25px;
            width: 100%;
            max-width: 500px; /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ */
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.8);
            border: 1px solid #333;
        }
        h2 { margin-top: 0; color: #fff; }
        
        /* Input Styles */
        input {
            width: calc(100% - 24px);
            padding: 12px;
            margin: 8px 0;
            font-size: 16px;
            border-radius: 8px;
            border: 1px solid #333;
            background: #222;
            color: white;
            outline: none;
            transition: 0.3s;
        }
        input:focus { border-color: #0078ff; box-shadow: 0 0 8px rgba(0, 120, 255, 0.3); }

        /* Button Group */
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        button {
            flex: 1;
            padding: 12px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            transition: transform 0.2s, opacity 0.2s;
        }
        button:active { transform: scale(0.95); }
        button:hover { opacity: 0.9; }

        .fast { background: linear-gradient(45deg, #0078ff, #00c6ff); box-shadow: 0 4px 10px rgba(0, 120, 255, 0.3); }
        .super { background: linear-gradient(45deg, #8a2be2, #da70d6); box-shadow: 0 4px 10px rgba(138, 43, 226, 0.3); }
        .slow { background: linear-gradient(45deg, #ff0033, #ff6b6b); box-shadow: 0 4px 10px rgba(255, 0, 51, 0.3); }

        /* Log Box */
        #log-container {
            margin-top: 20px;
            background: #000;
            color: #00ff41;
            font-family: 'Courier New', monospace;
            padding: 15px;
            height: 180px;
            overflow-y: auto;
            border-radius: 8px;
            text-align: left;
            border: 1px solid #333;
            font-size: 12px;
            white-space: pre-wrap;
        }

        /* Info Section (‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà) */
        .info-header { margin-top: 25px; margin-bottom: 10px; font-size: 14px; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .info-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            text-align: left;
        }
        @media (min-width: 480px) {
            .info-grid { grid-template-columns: 1fr 1fr 1fr; } /* ‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà‡πÅ‡∏ö‡πà‡∏á 3 ‡∏ä‡πà‡∏≠‡∏á */
        }

        .info-box {
            background: #202020;
            padding: 12px;
            border-radius: 8px;
            font-size: 11px;
            color: #ccc;
            border-top: 3px solid #555;
            line-height: 1.4;
        }
        .info-box h3 { margin: 0 0 5px 0; font-size: 13px; color: #fff; }
        .info-box.i-fast { border-color: #0078ff; }
        .info-box.i-super { border-color: #8a2be2; }
        .info-box.i-slow { border-color: #ff0033; }

        .badge { display: inline-block; padding: 2px 5px; border-radius: 3px; font-size: 9px; font-weight: bold; margin-bottom: 5px;}
        .risk-high { background: rgba(255, 0, 0, 0.2); color: #ff5555; }
        .risk-med { background: rgba(138, 43, 226, 0.2); color: #d896ff; }
        .risk-low { background: rgba(0, 255, 0, 0.1); color: #55ff55; }

    </style>
</head>
<body>

<div class="panel">
    <h2>üî• SMS Spam Control Panel</h2>
    
    <div>
        <input type="text" id="phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏Ç‡∏µ‡∏î)" required maxlength="10">
        <input type="number" id="count" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏¢‡∏¥‡∏á" required>
        
        <div class="btn-group">
            <button class="fast" onclick="startSpam('fast')">‚ö° ‡∏¢‡∏¥‡∏á‡πÄ‡∏£‡πá‡∏ß</button>
            <button class="super" onclick="startSpam('super')">üî• ‡∏¢‡∏¥‡∏á‡∏£‡∏±‡∏ß</button>
            <button class="slow" onclick="startSpam('slow')">üê¢ ‡∏¢‡∏¥‡∏á‡∏ä‡πâ‡∏≤</button>
        </div>
    </div>

    <div id="log-container"> >> ‡∏£‡∏≠‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô...</div>

    <div class="info-header">üîç ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</div>
    <div class="info-grid">
        <div class="info-box i-fast">
            <h3>‚ö° ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏£‡πá‡∏ß (Fast)</h3>
            <span class="badge risk-high">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á: ‡∏™‡∏π‡∏á üî¥</span>
            <ul style="padding-left: 15px; margin: 5px 0;">
                <li>‡∏¢‡∏¥‡∏á‡∏£‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö</li>
                <li>‡πÉ‡∏ä‡πâ Asyncio (‡∏¢‡∏¥‡∏á‡∏Ç‡∏ô‡∏≤‡∏ô‡∏Å‡∏±‡∏ô)</li>
                <li><b>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</b> ‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å ‡∏Å‡∏£‡∏∞‡∏´‡∏ô‡πà‡∏≥ SMS</li>
                <li><b>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:</b> ‡πÇ‡∏î‡∏ô‡πÅ‡∏ö‡∏ô IP ‡∏á‡πà‡∏≤‡∏¢‡∏°‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡πá‡∏ï‡∏Ñ‡πâ‡∏≤‡∏á</li>
            </ul>
        </div>

        <div class="info-box i-super">
            <h3>üî• ‡πÇ‡∏´‡∏°‡∏î‡∏£‡∏±‡∏ß (Super)</h3>
            <span class="badge risk-med">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á: ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á üü°</span>
            <ul style="padding-left: 15px; margin: 5px 0;">
                <li><b>‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥!</b> ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</li>
                <li>‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤</li>
                <li>‡∏ï‡∏±‡∏î API ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡∏ó‡∏¥‡πâ‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</li>
                <li><b>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</b> ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡∏¢‡∏¥‡∏á‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß</li>
            </ul>
        </div>

        <div class="info-box i-slow">
            <h3>üê¢ ‡πÇ‡∏´‡∏°‡∏î‡∏ä‡πâ‡∏≤ (Slow)</h3>
            <span class="badge risk-low">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á: ‡∏ï‡πà‡∏≥ üü¢</span>
            <ul style="padding-left: 15px; margin: 5px 0;">
                <li>‡∏¢‡∏¥‡∏á‡πÅ‡∏ö‡∏ö‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô ‡∏°‡∏µ‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏Å‡∏±‡πâ‡∏ô</li>
                <li>‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏ô‡∏Å‡∏î‡πÄ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</li>
                <li><b>‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:</b> ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÇ‡∏î‡∏ô‡πÅ‡∏ö‡∏ô‡∏ô‡πâ‡∏≠‡∏¢</li>
                <li><b>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:</b> ‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ‡∏¢‡∏≤‡∏ß‡πÜ</li>
            </ul>
        </div>
    </div>
</div>

<script>
    let logInterval;
    
    function startSpam(mode) {
        const phone = document.getElementById('phone').value;
        const count = document.getElementById('count').value;
        const logBox = document.getElementById('log-container');
        
        // Validation ‡∏á‡πà‡∏≤‡∏¢‡πÜ
        if (!phone || phone.length < 9) {
            alert("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
            return;
        }
        if (!count) {
            alert("‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô");
            return;
        }
        
        let modeName = "";
        let modeColor = "";
        if(mode === 'fast') { modeName = "Fast ‚ö°"; modeColor = "#0078ff"; }
        else if(mode === 'super') { modeName = "Super üî•"; modeColor = "#8a2be2"; }
        else { modeName = "Slow üê¢"; modeColor = "#ff0033"; }

        logBox.innerHTML = `<span style="color:${modeColor}">[*] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏´‡∏°‡∏î ${modeName}...</span>`;
        logBox.scrollTop = logBox.scrollHeight;
        
        fetch('/run', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ phone: phone, count: count, mode: mode })
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                if (logInterval) clearInterval(logInterval);
                logInterval = setInterval(fetchLogs, 500); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Log ‡∏ó‡∏∏‡∏Å 0.5 ‡∏ß‡∏¥
            } else {
                alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + data.message);
                logBox.innerHTML += `\n[!] Error: ${data.message}`;
            }
        })
        .catch(err => {
            logBox.innerHTML += "\n[!] Server Connection Error";
        });
    }
    
    function fetchLogs() {
        fetch('/get_logs')
        .then(response => response.json())
        .then(logs => {
            const logBox = document.getElementById('log-container');
            if(logs.length > 0) {
                 // Join logs ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ Error/Success ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
                let formattedLogs = logs.map(line => {
                    if(line.includes("Error") || line.includes("‡∏ï‡∏≤‡∏¢")) return `<span style="color:#ff5555">${line}</span>`;
                    if(line.includes("‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à") || line.includes("Pass")) return `<span style="color:#55ff55">${line}</span>`;
                    return line;
                }).join('<br>');
                
                logBox.innerHTML = formattedLogs; 
                logBox.scrollTop = logBox.scrollHeight;
            }
        });
    }
</script>

</body>
</html>
