#!/data/data/com.termux/files/usr/bin/bash

echo "=== INSTALL SCRIPT FOR SMS-SPAM WEB (Ninja Edition) ==="

# -----------------------------
# 1. ‡∏ï‡∏£‡∏ß‡∏à Python
# -----------------------------
if ! command -v python >/dev/null 2>&1; then
    echo "[*] ‡πÑ‡∏°‡πà‡∏û‡∏ö Python -> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á..."
    pkg update -y
    pkg install python -y
else
    echo "[OK] ‡∏û‡∏ö Python ‡πÅ‡∏•‡πâ‡∏ß"
fi

# -----------------------------
# 2. ‡∏ï‡∏£‡∏ß‡∏à pip
# -----------------------------
if ! command -v pip >/dev/null 2>&1; then
    echo "[*] ‡πÑ‡∏°‡πà‡∏û‡∏ö pip -> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á..."
    # ‡∏õ‡∏Å‡∏ï‡∏¥ pip ‡∏°‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏° python ‡πÅ‡∏ï‡πà‡∏Å‡∏±‡∏ô‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß
    pkg install python-pip -y 
else
    echo "[OK] ‡∏û‡∏ö pip ‡πÅ‡∏•‡πâ‡∏ß"
fi

# -----------------------------
# 3. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡∏à‡∏≤‡∏Å requirements.txt
# -----------------------------
REQ_FILE="requirements.txt"

if [ ! -f "$REQ_FILE" ]; then
    echo "[!] ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå $REQ_FILE"
    echo "[!] ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå requirements.txt ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô"
    exit 1
fi

echo "[*] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡∏à‡∏≤‡∏Å $REQ_FILE..."
pip install -r "$REQ_FILE"

if [ $? -eq 0 ]; then
    echo "[OK] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢"
else
    echo "[!] ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies"
    exit 1
fi

# -----------------------------
# 4. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á RUN-SMS-WEB
# -----------------------------
TARGET="$PREFIX/bin/RUN-SMS-WEB"
SOURCE="SMS-RUN-WEB-TERMUX.sh"

if [ ! -f "$SOURCE" ]; then
    echo "[!] ‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÑ‡∏ü‡∏•‡πå $SOURCE ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô"
    # ‡πÑ‡∏°‡πà exit ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÅ‡∏Ñ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏á library
else
    echo "[*] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á RUN-SMS-WEB ..."
    mv "$SOURCE" "$TARGET"
    chmod +x "$TARGET"
    echo "[OK] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á RUN-SMS-WEB ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"
fi

# -----------------------------
# 5. ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (Cleanup)
# -----------------------------
echo "[*] ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á..."
rm -f install-termux.sh
rm -f requirements.txt
rm -f README.md
rm -f example.jpg
rm -f .git

echo "[OK] ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!"
sleep 0.5
echo "[OK] ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå"
sleep 1

# ========================================================
# ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• UI (‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ‡∏ï‡∏≤‡∏°‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏¥‡∏ô‡∏à‡∏≤‡∏ó‡∏≥‡∏°‡∏≤)
# ========================================================

# 1. ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ ‡πÇ‡∏õ‡∏£‡∏î‡∏≠‡πà‡∏≤‡∏ô
clear
echo "#################################################"
echo "#                                               #"
echo "#           ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ ‡πÇ‡∏õ‡∏£‡∏î‡∏≠‡πà‡∏≤‡∏ô !!!                 #"
echo "#        (EXPLANATION : PLEASE READ)            #"
echo "#                                               #"
echo "#################################################"
echo ""
read -p ">>> ‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠..."

# 2. ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì
clear
echo "#################################################"
echo "#                                               #"
echo "#             ‡∏Ç‡∏≠‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ô‡∏µ‡πâ               #"
echo "#                 (THANK YOU)                   #"
echo "#                                               #"
echo "#################################################"
echo ""
read -p ">>> ‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠..."

# 3. ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÑ‡∏ü‡∏•‡πå
clear
echo "================================================="
echo "           üìò ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö (MANUAL)        "
echo "================================================="
echo ""
echo "üìÇ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö:"
echo "   1. SMS-Fast.py  -> ‡∏¢‡∏¥‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å‡πÜ"
echo "   2. SMS-Slow.py  -> ‡∏¢‡∏¥‡∏á‡∏ä‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏ä‡∏±‡∏ß‡∏£‡πå"
echo "   3. RUN-WEB.py   -> ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö (Web Interface)"
echo ""
echo "-------------------------------------------------"
echo "üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ 2 ‡πÅ‡∏ö‡∏ö):"
echo "-------------------------------------------------"
echo ""
echo "‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö (‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)"
echo "   ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: RUN-SMS-WEB"
echo "   (‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î Browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà http://localhost:8080)"
echo ""
echo "‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Terminal (Manual)"
echo "   1. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°:"
echo "      cd program"
echo ""
echo "   2. ‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:"
echo "      - ‡∏¢‡∏¥‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πá‡∏ß: python SMS-Fast.py"
echo "      - ‡∏¢‡∏¥‡∏á‡πÅ‡∏ö‡∏ö‡∏ä‡πâ‡∏≤: python SMS-Slow.py"
echo ""
echo "================================================="
sleep 1
echo "[OK] ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß"
echo "================================================="
